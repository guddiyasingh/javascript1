<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button>Add note</button>
    <div class="note"></div>

      <!-- Password validator UI -->
    <div style="margin-top:1rem;">
        <input id="pwInput" type="password" placeholder="Enter password">
        <button id="togglePw" type="button" aria-pressed="false">Show</button>
        <button id="validateBtn">Validate password</button>
        <div id="pwResult" aria-live="polite" style="margin-top:.5rem"></div>
    </div>
    
    <script>
     
    // function saveNoteToLocalStorage(note){
    //     localStorage.setItem("note",note)
    // }

    //  if(localStorage.getItem("name")){
    //     a = localStorage.getItem("name")
    //     document.write("Welcome" + a)
    //  }

    // let note = localStorage.getItem("note")
    // if(note){
    //     document.querySelector(".note").innerHTML = note
    // }

    // document.querySelector("button").addEventListener
    // ("click",()=>{
    //     let note = prompt("Enter your note")
    //     saveNoteToLocalStorage(note)
    //       document.querySelector(".note").innerHTML = note
    // }

    // )
    

    //  else{
    //     let a = prompt("Enter your name")
    
    //     localStorage.setItem("name", a)
    //      document.write("Welcome" + a)
    //   }

    //2. question

    function doubleTrouble(arr){
        let result =[];
       
     for (let i=0; i< arr.length; i++){
      // If current element is the same as the previous, skip doubling
      if(i>0 && arr[i] === arr[i-1]){
        result.push(arr[i]); // keep it as-is
      } else {
        result.push(arr[i]*2)
      } 
     }   
     return result;
    }
    console.log(doubleTrouble([4,4,5,5,6,7,8,9]))

  //  3. The Mirror Mirror : Imagine you have a string, and you need to create a new string that
  //   is a mirror image of the original. Write a function that appends the reversed version of the original 
  //   string to itself.

    function mirrorString(str){
        let reversed = str.split('').reverse().join('');
        // let reversed = str.reverse();
        return str + reversed;
    }
    console.log(mirrorString("hello"));

    // 4. The password validator: you are building a password validation feature. Create a function that
    // function that checks if a given password meets the following criteria: at least 8 characters long, containes
    // both uppercase and lowercase letters and include at least  one digit.
    function validatePassword(password){
        const minLength = 8;
        const hasUpperCase = /[A-Z]/.test(password);
        const hasLowerCase = /[a-z]/.test(password);
        const hasDigit = /\d/.test(password);

        if(password.length >= minLength && hasUpperCase && hasLowerCase && hasDigit){
            return true;
        } else {
            return false;
        }
    }

    console.log(validatePassword("Password123")); // true


    // Add this: wire UI to the function
    document.getElementById('validateBtn').addEventListener('click', () => {
        const pw = document.getElementById('pwInput').value;
        const ok = validatePassword(pw);
        const resultEl = document.getElementById('pwResult');
        if (ok) {
            resultEl.textContent = 'Password is valid';
            resultEl.style.color = 'green';
        } else {
            resultEl.textContent = 'Invalid: require 8+ chars, upper & lower case, and at least one digit';
            resultEl.style.color = 'red';
        }
    });

    // Optional: live feedback as user types
    document.getElementById('pwInput').addEventListener('input', () => {
        document.getElementById('validateBtn').click();
    });

     // Add show/hide toggle for the password input
    const pwInput = document.getElementById('pwInput');
    const toggleBtn = document.getElementById('togglePw');

    toggleBtn.addEventListener('click', () => {
        const isPassword = pwInput.type === 'password';
        pwInput.type = isPassword ? 'text' : 'password';
        toggleBtn.textContent = isPassword ? 'Hide' : 'Show';
        toggleBtn.setAttribute('aria-pressed', String(!isPassword));
    });

    // ...existing code...
    // document.getElementById('validateBtn').addEventListener('click', () => {
    //     const pw = document.getElementById('pwInput').value;
    //     const ok = validatePassword(pw);
    //     const resultEl = document.getElementById('pwResult');
    //     if (ok) {
    //         resultEl.textContent = 'Password is valid';
    //         resultEl.style.color = 'green';
    //     } else {
    //         resultEl.textContent = 'Invalid: require 8+ chars, upper & lower case, and at least one digit';
    //         resultEl.style.color = 'red';
    //     }
    // });
    </script>
</body>
</html>