<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button>Add note</button>
    <div class="note"></div>

      <!-- Password validator UI -->
    <div style="margin-top:1rem;">
        <input id="pwInput" type="password" placeholder="Enter password">
        <button id="togglePw" type="button" aria-pressed="false">
          <svg id="toggleIcon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z"></path>
                <circle cx="12" cy="12" r="3"></circle>
            </svg>   
        </button>
        <button id="validateBtn">Validate password</button>
        <div id="pwResult" aria-live="polite" style="margin-top:.5rem"></div>
    </div>
    
    <script>
     
    // function saveNoteToLocalStorage(note){
    //     localStorage.setItem("note",note)
    // }

    //  if(localStorage.getItem("name")){
    //     a = localStorage.getItem("name")
    //     document.write("Welcome" + a)
    //  }

    // let note = localStorage.getItem("note")
    // if(note){
    //     document.querySelector(".note").innerHTML = note
    // }

    // document.querySelector("button").addEventListener
    // ("click",()=>{
    //     let note = prompt("Enter your note")
    //     saveNoteToLocalStorage(note)
    //       document.querySelector(".note").innerHTML = note
    // }

    // )
    

    //  else{
    //     let a = prompt("Enter your name")
    
    //     localStorage.setItem("name", a)
    //      document.write("Welcome" + a)
    //   }

    //2. question

    function doubleTrouble(arr){
        let result =[];
       
     for (let i=0; i< arr.length; i++){
      // If current element is the same as the previous, skip doubling
      if(i>0 && arr[i] === arr[i-1]){
        result.push(arr[i]); // keep it as-is
      } else {
        result.push(arr[i]*2)
      } 
     }   
     return result;
    }
    console.log(doubleTrouble([4,4,5,5,6,7,8,9]))

  //  3. The Mirror Mirror : Imagine you have a string, and you need to create a new string that
  //   is a mirror image of the original. Write a function that appends the reversed version of the original 
  //   string to itself.

    function mirrorString(str){
        let reversed = str.split('').reverse().join('');
        // let reversed = str.reverse();
        return str + reversed;
    }
    console.log(mirrorString("hello"));

    // 4. The password validator: you are building a password validation feature. Create a function that
    // function that checks if a given password meets the following criteria: at least 8 characters long, containes
    // both uppercase and lowercase letters and include at least  one digit.
    function validatePassword(password){
        const minLength = 8;
        const hasUpperCase = /[A-Z]/.test(password);
        const hasLowerCase = /[a-z]/.test(password);
        const hasDigit = /\d/.test(password);

        if(password.length >= minLength && hasUpperCase && hasLowerCase && hasDigit){
            return true;
        } else {
            return false;
        }
    }

    console.log(validatePassword("Password123")); // true


    // Add this: wire UI to the function
    document.getElementById('validateBtn').addEventListener('click', () => {
        const pw = document.getElementById('pwInput').value;
        const ok = validatePassword(pw);
        const resultEl = document.getElementById('pwResult');
        if (ok) {
            resultEl.textContent = 'Password is valid';
            resultEl.style.color = 'green';
        } else {
            resultEl.textContent = 'Invalid: require 8+ chars, upper & lower case, and at least one digit';
            resultEl.style.color = 'red';
        }
    });

    // Optional: live feedback as user types
    document.getElementById('pwInput').addEventListener('input', () => {
        document.getElementById('validateBtn').click();
    });
    
    // SVG path content for eye (show) and eye-off (hide with slash)
    const eyePaths = `
        <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z"></path>
        <circle cx="12" cy="12" r="3"></circle>
    `;
    const eyeOffPaths = `
        <path d="M17.94 17.94A10.94 10.94 0 0 1 12 19c-7 0-11-7-11-7a20.85 20.85 0 0 1 5.06-6.06"></path>
        <path d="M1 1l22 22" stroke="currentColor"></path>
        <path d="M9.88 9.88A3 3 0 0 0 14 14"></path>
    `;
//  toggleBtn.addEventListener('click', () => {
//         const isPassword = pwInput.type === 'password';
//         pwInput.type = isPassword ? 'text' : 'password';
//         toggleBtn.setAttribute('aria-pressed', String(!isPassword));
//         // swap inner paths of the svg icon
//         toggleIcon.innerHTML = isPassword ? eyeOffPaths : eyePaths;
//         toggleBtn.title = isPassword ? 'Hide password' : 'Show password';
//     });

     // Add show/hide toggle for the password input
    const pwInput = document.getElementById('pwInput');
    const toggleBtn = document.getElementById('togglePw');
    const toggleIcon = document.getElementById('toggleIcon');

    toggleBtn.addEventListener('click', () => {
        const isPassword = pwInput.type === 'password';
        pwInput.type = isPassword ? 'text' : 'password';
        toggleBtn.setAttribute('aria-pressed', String(!isPassword));
         // swap inner paths of the svg icon
        toggleIcon.innerHTML = isPassword ? eyeOffPaths : eyePaths;
        toggleBtn.title = isPassword ? 'Hide password' : 'Show password';
    });

    // ...existing code...
    // document.getElementById('validateBtn').addEventListener('click', () => {
    //     const pw = document.getElementById('pwInput').value;
    //     const ok = validatePassword(pw);
    //     const resultEl = document.getElementById('pwResult');
    //     if (ok) {
    //         resultEl.textContent = 'Password is valid';
    //         resultEl.style.color = 'green';
    //     } else {
    //         resultEl.textContent = 'Invalid: require 8+ chars, upper & lower case, and at least one digit';
    //         resultEl.style.color = 'red';
    //     }
    // });
    </script>
</body>
</html>